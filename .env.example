# ============================================================
# CENTRO DIAGNÓSTICO MI ESPERANZA - Variables de entorno
# Copiar este archivo como .env y completar los valores
# ============================================================

# ── Servidor ──────────────────────────────────────────────────
NODE_ENV=production
PORT=5000
HOST=0.0.0.0

# ── Uploads (archivos subidos: DICOM, imagenes, etc.) ─────────
# Directorio externo para que los uploads sobrevivan actualizaciones del codigo
# Si no se define, usa ./uploads dentro del proyecto
UPLOADS_DIR=/home/opc/medical-data/uploads

# ── Base de datos MongoDB ─────────────────────────────────────
MONGODB_URI=MONGODB_URI=mongodb://localhost:27017/centro_diagnostico

# ── JWT ───────────────────────────────────────────────────────
# JWT_EXPIRES_IN: tiempo de expiración del token (24h, 7d, 30d)
# Nota: el código también acepta JWT_EXPIRE por compatibilidad
JWT_EXPIRES_IN=24h

# ── CORS ─────────────────────────────────────────────────────
CORS_ORIGINS=https://miesperanzalab.duckdns.org
FRONTEND_URL=https://miesperanzalab.duckdns.org
PUBLIC_API_URL=https://miesperanzalab.duckdns.org:5000

# Rate limiting seguro (valores recomendados en producción)
RATE_LIMIT_MAX=500
RATE_LIMIT_LOGIN_MAX=20

# ── Email (Nodemailer) ────────────────────────────────────────
EMAIL_HOST=smtp.gmail.com
EMAIL_PORT=587
EMAIL_USER=chrisebay.3009@gmail.com
EMAIL_PASS=warx apmm lzou hadd
EMAIL_FROM=Centro Diagnostico <chrisebay.3009@gmail.com>

# ── WhatsApp / Twilio ─────────────────────────────────────────
TWILIO_ACCOUNT_SID=ACxxxxxxxxxxxxxxxx
TWILIO_AUTH_TOKEN=xxxxxxxxxxxxxxxx
TWILIO_WHATSAPP_NUMBER=whatsapp:+14155238886

# ============================================================
# INTEGRACION CON EQUIPO DE RAYOS X / IMAGENOLOGIA
# ============================================================

# Modo de integracion:
#   none    = sin integracion automatica (manual via /api/imagenologia/worklist)
#   orthanc = enviar a servidor Orthanc (recomendado)
#   rest    = enviar al API REST del equipo directamente
#   file    = escribir archivo JSON en carpeta compartida
DICOM_MODE=none

# Orthanc (servidor DICOM open source)
ORTHANC_URL=http://localhost:8042
ORTHANC_USER=orthanc
ORTHANC_PASS=orthanc
ORTHANC_AET=ORTHANC

# Equipo de rayos X (si tiene API REST propia)
RAYOSX_API_URL=http://192.168.1.50:8080/api/worklist
RAYOSX_API_KEY=
RAYOSX_AET=RAYOSX

# Carpeta de Worklist (modo file)
DICOM_WORKLIST_DIR=./uploads/worklist

# Carpeta de imagenes DICOM recibidas
DICOM_FOLDER=./uploads/dicom
